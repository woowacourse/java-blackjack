# java-blackjack

## 플레이어

### 보유 카드

- 처음 받은 두 장 카드의 합이 21이면 블랙잭
- 숫자의 합이 21 초과면 bust(패배)

### 참가자

- 게임 시작 시 베팅 금액을 정한다.
- 딜러에게 카드를 받을 때 히트, 스테이 할 수 있다.

#### 닉네임

- 닉네임 길이 2~5글자로 제한

### 딜러

- 덱에서 본인을 포함한 플레이어에게 카드를 배분한다.
    - 첫 턴에는 2장씩 배분한다.
    - 첫 턴 이후에는 콜, 스테이 여부를 확인하고 한장씩 배분한다.
        - 단, 딜러는 16이하면 무조건 콜 17이상이면 무조건 스테이
        - 입력받은 닉네임 순서대로 카드를 배분한다.

## 카드

### 카드 모양

- 스페이드
- 클로버
- 하트
- 다이아

### 에이스

- 1점 또는 11점

### 일반 카드

- 1~10
    - 숫자가 점수
- J, Q, K
    - 10점

## 게임

### 덱

- 한번 사용한 카드는 게임중 다시 사용하지 못한다.
- 덱에는 조커를 제외한 보통 사용되는 포커 카드가 들어간다.

### 승패 결정

- 딜러의 점수와 참가자의 점수를 비교해서 승패를 결정한다.
    - 딜러의 점수가 21점에 얼마나 근접했는지, 참가자의 점수가 21점에 얼마나 근접했는지 비교
    - 같으면 push(무승부)
    - 점수가 21에 더 근접하면 win
    - 아니면 loss
    - 처음 받은 두 장의 카드의 합이 21이라면 blackjack
- 딜러는 몇승 몇패 했는지 계산한다.
- 참가자는 이겼는지 졌는지 판단한다.
- 돌려받을 금액을 계산한다.

## 입출력 요구사항

### 입력

#### 게임 참가자 입력

```angular2html
게임에 참여할 사람의 이름을 입력하세요.(쉼표 기준으로 분리)
pobi,jason
```

#### 콜,스테이 입력

```angular2html
pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
y
```

### 출력

#### 첫 카드 2장의 배분에 대한 결과 출력

```angular2html
딜러와 pobi, jason에게 2장을 나누었습니다.
딜러카드: 3다이아몬드
pobi카드: 2하트, 8스페이드
jason카드: 7클로버, K스페이드
```

#### 한장의 카드를 받았을 때 결과 출력

```angular2html
pobi카드: 2하트, 8스페이드, A클로버
```

#### 딜러가 카드를 받을 수 있는지 없는지 출력

```angular2html
딜러는 16이하라 한장의 카드를 더 받았습니다.
```

#### 최종 승패 결과 출력

```angular2html
## 최종 승패
딜러: 1승 1패
pobi: 승
jason: 패
```

## 도메인
- Card: 카드와 관련된 기능들을 모아둔 도메인. 카드의 숫자와 모양 및 점수를 계산한다.
- Player : 블랙잭 게임을 플레이 하는 플레이어들을 모아둔 도메인. 받은 카드들을 관리한다.
  - Dealer : 게임의 딜러. 카드를 더 받아야 하는 상태(16점 이하)인지 검사한다.
  - Participant : 딜러를 제외한 블랙젝 게임 참가자들. 닉네임을 가진다.
- Game: 블랙잭 게임과 관련된 기능들을 모아둔 도메인.
  - Deck: 블랙잭 게임을 진행하기 위해 만들어진 초기 카드 52장을 관리한다.
  - ReceivedCards : 각 플레이어들이 받은 카드들. 총점수 계산, 카드 개수 세기, Bust 여부 확인 등을 한다.
  - ParticipantResult : 딜러 및 참가자들의 총점을 가지고 승패를 계산한다.
- BlackJackRule : 컨트롤러와 모델 간 소통을 위해 거치는 중간 레이어로, 컨트롤러와 모델의 소통은 모두 이 클래스를 거쳐서 이루어진다.