# 블랙잭 규칙

## 참여자

**승**

* (딜러 카드 합 < 참여자 카드 합) && 참여자가 버스트가 아닌 경우
* (딜러 카드 합 == 참여자 카드 합) && (딜러 카드 수 > 참여자 카드 수) && 참여자가 버스트가 아닌 경우
* 딜러가 버스트인 경우 && 참여자가 버스트가 아닌 경우

**무**

* (딜러 카드 합 == 참여자 카드 합) && (딜러 카드 수 == 참여자 카드 수) && 참여자가 버스트가 아닌 경우

**패**

* 참여자가 버스트인 경우
* (딜러 카드 합 > 참여자 카드 합)

<br>

# 기능 요구 사항

* [x] 참여자 이름 입력 받는다.
    * [x] 양 끝 공백을 제거한다.
    * [x] 참여자는 쉼표(,)로 구분한다.
    * [x] null 이나 공백인 경우 예외가 발생한다.
    * [x] 쉼표로 시작시 예외가 발생한다. ex) ,pobi,jason
    * [x] 쉼표로 끝날시 예외가 발생한다. ex) pobi,jason,
    * [x] 쉼표가 연속으로 올시 예외가 발생한다. ex) pobi,,jason
    * [x] 참여자 이름이 중복시 예외가 발생한다.
* [x] 총 참여자의 수는 2이상 8이하여야 한다.

<br>

* [x] 딜러가 카드 2장을 분배하다.
    * [x] 카드는 총 6벌을 둔다. (52 * 6)
* [x] 딜러의 카드를 출력한다. (1장)
* [x] 참여자의 카드를 출력한다. (2장)

<br>

* [x] 참여자는 hit(y) / stay(n)를 선택한다.
    * [x] y, n 가 아닐시 예외가 발생한다.
* [x] 참여자가 hit을 하는 경우 현재 가지고 있는 카드를 출력한다.
* [x] 참여자가 hit을 한 적 없이 stay를 하는 경우 현재 가지고 있는 카드를 출력한다.
* [x] 카드 합이 블랙잭인 경우 블랙잭 메시지를 출력한다.
* [x] 카드 합이 21 초과시 버스트 메시지를 출력한다.

<br>

* [x] 딜러의 카드의 합을 계산한다.
* [x] 카드 내의 ACE 가 포함된 경우
    * ACE: 11
    * 11로 했을 때 카드의 합이 21을 초과한 경우 1로 계산
* [x] 17 이상이 될때까지 카드를 받는다.

<br>

* [x] 모든 참여자의 카드의 합을 계산한다.
* [x] 딜러의 승패무를 확인한다.
* [x] 참여자의 승패무를 확인한다.
* [x] 게임 결과를 출력한다.

---

## 리팩터링 목록

* [ ] 추상 클래스 활용
* [ ] 카드가 비어진 경우 예외 발생
* [ ] createEmptyPacket 메서드명 수정
* [ ] 블랙잭인경우 바로 게임 종료
* [ ] model 안에 있는 view를 어떻게 해야할까
  * Rank, Shape
* [ ] 플레이어의 이름 딜러 불가
* [ ] Name 객체 포장하기
* [ ] CardDeck 스토리지 유닛으로 변경
* [ ] Result 함수형 프로그래밍 사용
* [ ] TestFixture 사용
* [ ] Answer 필드값 및 stream 제거
* [ ] 패키지 정리
* [ ] 메서드 컨벤션 작성 및 확인
* [ ] final 컨벤션 통일
* [ ] CardDeck 생성자 닫기
* [ ] CardDeck 구조 변경
* [ ] Game 메서드 변경 Dto 변경
