# java-blackjack
블랙잭 게임 미션 저장소

# 기능 구현 목록
## 도메인 기능 요구사항
### 1. 카드
- 카드는 Suit(4)와 symbol(2~10, K, Q, J, A)를 가진다.

### 2. 핸드(손패)
- 카드의 목록을 구할 수 있다.
- 카드의 symbol을 기준으로 점수를 구한다.
  - 에이스 인 경우 11로 계산했을 때 총 합이 21점 이하면 11점으로, 초과면 1점으로 계산
  
### 3. 덱
- Deck은 각각 다른 suit과 symbol을 가지고 있는 52개의 카드 collection이다.
  - 덱은 한 장씩 카드를 발급할 수 있다.
    - 예외 사항: 덱에 카드가 한 장도 남아있지 않은 경우 예외를 발생한다.
  - shuffle을 이용해 카드의 순서를 바꿀 수 있다.

### 4. 참가자
- 참가자들은 딜러와 유저로 구성된다.
- 유저는 핸드와 이름, 게임 상태를 상태로 가진다.

#### 4-1. 딜러
- 딜러는 카드를 상태로 가진다.
- 딜러의 경우 처음에 받은 2장의 카드의 합이 16 이하이면 한 장의 카드를 추가로 받는다.
- 딜러의 점수가 17 이상인 경우 카드를 추가로 받을 수 없다.
- 딜러의 경우 처음 받은 두 장의 카드 중 한 장만 공개한다.
    
#### 4-2. 유저
- 유저는 카드를 추가로 뽑을지 결정할 수 있다.

### 5. 플레이어 상태
- 플레이어는 게임중, 블랙잭, 버스트, 게임끝남 중 하나의 상태를 가진다
- 게임중인 플레이어는 계속 게임을 진행할 수 있다.
- 게임중 상태가 아닌 유저는 더이상 게임을 진행할 수 없다.
  - 카드 2장으로 21을 만든 경우 (점수가 10점인 카드 한 장 + ACE) 블랙잭이 된다.
  - 카드 숫자와 상관없이 점수의 합이 21점을 초과하면 버스트가 된다.
  - 21점이 안 된 상태에서 드로우를 포기하면 게임끝남 상태가 된다.
- 상태에 따라 게임이 종료되면 배당금을 받거나 배팅금액을 잃는다(7. 배팅에서 계속)

### 6. 게임결과 - 승무패
- 유저가 버스트면 무조건 패
- 딜러와 유저 중 한 쪽만 버스트라면 나머지가 승리
- 딜러와 유저 둘 다 버스트가 아니라면 점수가 21점에 가까운 쪽이 승리
  - 딜러와 점수가 같다면 무승부
  
### 6. 배팅
- 유저는 게임을 시작할 때 배팅금액을 정한다.
  - 예외 : 배팅금액은 음수 일 수 없다.
- 유저가 이기면 배팅금액과 배팅금의 100%를 더한 금액을 받는다.
  - 블랙잭으로 승리하면 150%를 받는다.
- 무승부면 배팅금액을 돌려받는다.  
- 패배하면 배팅금액을 잃는다.

### 7. 블랙잭
- 블랙잭 게임은 플레이어에게 카드를 나눠준다.
  - 게임을 시작하면 2장을 먼저 나눠준다.
  - 카드를 뽑을 때마다 점수를 계산해 블랙잭 여부를 판별한다.
  - 각 플레이어에게 한 장의 카드를 더 받을건지 물어본다.  
  - 점수를 계산해서 21점 이상인 경우 패
  - 21점에 가장 가까운 참가자가 승리한다.

### 8. 결과
- 결과는 참가자의 카드 목록과 상금을 출력한다.
- 딜러의 경우 유저에게서 벌어들인 수익의 합을 출력한다. 
  
## 입출력 기능 요구사항
### 입력
- 유저의 이름은 쉼표(',')를 기준으로 입력받는다.
  - 예외 사항: 빈 값인 경우 예외
  - 예외 사항: 이름이 딜러인 경우 예외

- 배팅금액을 입력받는다.
  - 예외 사항: 정수가 아닌 숫자를 입력받으면 예외

- 카드를 더 받을지 여부는 [y/n]으로 입력 받는다.
  - 예외 사항: y/n이 아닌 경우 예외처리 한다.

### 출력
- 유저들의 카드목록을 출력한다.
- 결과 출력시 참가자의 점수를 출력한다.
- 최종상금 액수를 출력한다.

## 비기능 요구사항
- 딜러와 플레이어에서 발생하는 중복 코드를 제거해야 한다.

## 우아한테크코스 코드리뷰
* [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)