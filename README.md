# java-blackjack

블랙잭 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

## Controller
- [x] 게임에 참여할 플레이어의 이름을 입력받는다.
- [x] 딜러와 플레이어들에게 카드를 두 장씩 랜덤하게 나눠준다.
- [x] 딜러와 플레이어들이 받은 카드를 출력한다.
  - [x] 딜러는 한장의 카드만 공개한다.
- [x] 플레이어 별로 카드를 더 받을지 물어본다.
  - [x] 플레이어는 카드를 한 장 뽑고 가진 카드 현황을 출력한다.
  - [x] 플레이어가 가진 카드 숫자의 총합이 21을 초과하면 그만 받도록 한다.
  - [x] 플레이어가 가진 카드 숫자의 총합이 21 이하라면 플레이어의 선택에 따라 카드를 계속 받을 수 있다.
- [x] 딜러는 자신의 숫자 카드 합이 17 이상이 되도록 카드를 더 뽑는다.
- [x] 딜러와 플레이어의 카드 합 결과를 계산한다.
- [x] 딜러와 플레이어 최종 카드 현황과 각 합을 출력한다.
- [x] 게임결과를 출력하고 게임을 종료한다.
  - [x] 딜러는 총 몇 승 몇 패를 했는지 출력한다.
  - [x] 플레이어는 각자의 승패 결과를 출력한다.

## Model
- [x] 블랙잭 전체 카드 생성
  - [x] 전체 카드 개수는 52장
  - [x] 문양은 하트, 다이아, 클로버, 스페이드
  - [x] 각 문양 별 Ace, 2~10, K,Q,J 로 구성
    - [x] Ace는 1 또는 11로 계산할 수 있다.
    - [x] K,Q,J는 각각 10으로 계산한다.
  - [x] 52장 카드는 중복되지 않는다.
- [x] 블랙잭 카드 드로우
  - [x] 모든 카드는 랜덤하게 셔플된다.
  - [x] 드로우는 셔플된 카드에서 순서대로 가져간다.
- [x] 블랙잭 카드 현황 저장한다.
  - [x] 전체 카드에서 남은 카드 현황
    - [x] 드로우된 카드는 제외한다.
  - [x] 딜러 카드 현황
  - [x] 플레이어 카드 현황
- [x] 블랙잭 게임 진행
  - [x] 게임의 플레이어 수는 딜러 제외 5명으로 제한한다.
  - [x] 플레이어와 딜러는 게임을 시작하며 카드를 2장씩 드로우한다.
  - [x] 딜러는 처음에 뽑은 카드 1장만 공개하고, 남은 카드는 최종 결과 확인 전까지 비공개한다.
  - [x] 보유한 카드의 숫자 합산
  - [x] 보유한 카드의 숫자 합산 유효성 확인
    - [x] 합산 결과가 21을 초과하면 더 이상 카드를 뽑지 않는다.
- [x] 딜러와 플레이어 간 승패 결정
  - [x] 딜러와 플레이어의 카드 숫자 합산 비교 
  - [x] 딜러와 플레이어 둘 다 버스트일 시 딜러 승
  - [x] 딜러와 플레이어 결과가 무승부일 때 딜러 승

## View
### InputView
- [x] 플레이어 이름 입력
  - [x] [예외처리] 쉼표 기준으로 분리하다(pobi,jason)
- [x] 카드 추가로 받을지 말지 여부 입력
  - [x] [예외처리] 'y' 또는 'n'이 아닌 입력
### OutputView
- [x] 초기 게임 세팅
  - [x] 플레이어 이름 입력 메세지 출력
  - [x] 딜러와 플레이어 첫 카드 세팅 결과 출력
  - [x] 딜러와 플레이어 별로 가진 카드를 출력
- [x] 게임 진행
  - [x] 플레이어가 카드를 추가로 받을지 여부 메세지 출력
  - [x] 플레이어가 가진 카드 현황을 출력
  - [x] 딜러 추가 카드 수령 메세지
- [x] 게임 결과
  - [x] 딜러와 플레이어 최종 카드 결과 출력
  - [x] 딜러와 플레이어 최종 승패 결과 출력

## 리팩토링
### 게임
- [ ] [예외처리] 게임을 진행하기 위해 플레이어 최소 한 명 필요
- [ ] [예외처리] 이름 빈 칸 여부 확인
- [ ] 출력 시, 한국 이름에 받침이 들어갈 수 있다는 점을 고려하여 은(는) 지원
- [ ] [예외처리] 이름 중복 검사 
- [ ] [예외처리] 플레이어 이름 "딜러" 검사
- [ ] 각각의 클래스가 알 필요 없는 정보 제거 
- [ ] 기능에 맞는 메소드명을 가지는지 확인
  - [ ] Controller.setUp()
- [ ] 출력 기능을 하는 메서드 명 변경(show -> print)
- [ ] HashMap 선언 -> Map 선언
- [ ] Map의 키로 사용하고 있는 String을 의미에 맞게 포장
- [ ] 첫번째 카드 get 메서드는 딜러의 역할이 될 수 있다.
- [ ] Controller.playGame() 메서드 분리의 이유 고민
- [ ] 동일성 비교시 NPE를 방지할 수 있는 방법
- [ ] Number enum의 이름에 대한 고민
- [ ] CARD_ON_TOP 상수명이 올바른가?
- [ ] shuffle을 씀으로써 Cards 객체 테스트 코드 작성이 어려워진다는 점에 대한 고민
- [ ] Cards라는 객체가 카드 두 장을 뽑아주는 이유가 **첫 턴이라서** 그렇다는 걸 알 수 있을까?
- [ ] Cards.isEmpty()를 메서드 분리한 이유가 있을까?
- [ ] 도메인 테스트 코드 작성
- [ ] 일급 컬렉션 사용
- [ ] drawOneMoreCardPlayer 시그니처
- [ ] drawCardUntilOverSixteen 메서드명
- [ ] playerWin 메서드명
- [ ] compare라는 메서드명의 반환 타입
- [ ] compareScore 메서드 로직
- [ ] Dealer.SEVENTEEN 상수명
- [ ] 무승부 처리
- [ ] Player와 Dealer의 점수가 꼭 마지막에 주입 받으면서 관리되어야 할까?
- [ ] 상수에 숫자를 명시하는 것은 좋지 않다.
- [ ] score를 final로 선언하려면?
- [ ] calculate라는 메서드명의 반환 타입
- [ ] sum이라는 변수명
- [ ] 여러 곳에서 쓰이고 있는 BLACKJACK 상수
- [ ] User는 왜 처음에 firstTurnCards를 가져야 할까?
- [ ] user 하위 객체들이 모두 name을 갖는다?
- [ ] checkBustByScore 메서드명
- [ ] List 변수명은 복수형으로 쓰기
- [ ] `.`과 `()`이 많으면 가독성을 해친다.
- [ ] 사용자에게 보이는 예외 메세지
- [ ] 개행 출력
- [ ] printSetUpCompleteMessage 가독성
- [ ] PatternTest.generatePatternTest() 변수명, 가독성
- [ ] Enum 갯수 테스트 보다는 Cards 갯수 테스트가 중요하다
- [ ] 주석 통일감
- [ ] 플레이어가 생성자 테스트에서 플레이어가 2장의 카드를 받는지 검증하는 것이 적합할까?
- [ ] ScoreTest 반대 케이스 테스트


## TODO
