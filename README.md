# java-blackjack

블랙잭 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

## 기능 목록

### 게임 용어
- 블랙잭 : 첫 두장의 카드의 합이 21이 되는 경우
- 버스트 : 카드의 합이 21을 초과하는 경우
- 히트 : 카드를 추가로 뽑는 행위
- 스테이 : 카드를 추가로 뽑지 않고 턴을 마무리하는 행위
- 푸시 : 딜러와 플레이어가 동시에 블래잭이 되어 무승부 되는 것

### 게임 규칙
- 카드 오픈
  - 딜러의 처음 2장 중 1장의 카드만 오픈한다.
- Ace 카드
  - Ace의 기본 값은 11로 한다.
  - 보유한 덱에 Ace가 있고 버스트인 경우 Ace의 값을 1로 설정한다.
- 히트 & 스테이
  - 플레이어는 블랙잭이 아닌 경우 히트할 수 있다.
  - 플레이어는 버스트 되지 않으면 계속 히트 또는 스테이를 선택할 수 있다. 
  - 딜러는 카드의 합이 16 이하일 때 무조건 히트한다.
  - 딜러는 한 번만 히트할 수 있다.
- 게임 승패
  - 플레이어가 블랙잭일떄, 딜러가 블랙잭이 아니라면 플레이어는 승리한다.
  - 플레이어가 블랙잭일때, 딜러도 블랙잭이라면 푸시이다.
  - 딜러가 블랙잭일때, 플레이어가 블랙잭이 아니라면 플레이어는 패배한다.
  - 플레이어가 버스트인 경우 딜러의 결과에 관계없이 플레이어가 패배한다.
  - 딜러가 버스트인 경우 플레이어가 버스트가 아니라면 플레이어가 승리한다.
  - 플레이어와 딜러 모두 버스트가 아닌 경우 점수가 큰 쪽이 승리한다.
  - 플레이어와 딜러 모두 버스트가 아닌 경우 점수가 동일하면 푸시이다.
- 배팅
  - 플레이어는 배팅 금액을 정할 수 있다.
  - 플레이어는 승리할 경우 배팅 금액만큼 받는다.
  - 플레이어는 패배할 경우 배팅 금액을 잃는다.
  - 플레이어는 푸시인 경우 배팅 금액만 돌려받는다.
  - 플레이어는 블랙잭일때, 딜러가 블랙잭이 아닌 경우 배팅 금액의 1.5배를 받는다.
  - 딜러는 승리하면 플레이어의 배팅 금액을 가져간다.
  - 딜러는 패배하면 플레이어의 승리 배당 만큼 지급한다.

### 게임 로직
- 플레이어는 배팅 금액을 설정한다.
- 게임을 시작하면 카드를 두 장 받는다.
- 블랙잭을 확인한다.
  - 딜러가 블랙잭일 경우 바로 게임을 종료하고 게임 결과를 보여준다.
- 플레이어 턴을 진행한다.
- 딜러 턴을 진행한다.
- 게임 결과를 계산한다.

### 카드
- 카드는 속성을 가진다.
  - 속성에는 패턴이 있다. (스페이드, 하트, 다이아몬드, 클로버)
  - 속성에는 숫자 값을 표현이 있다. (Ace는 1 또는 11, JQK는 10을 나타냄)
- 카드는 점수 계산에 적용될 숫자값을 가지고 있다.
  - 숫자가 1~11 범위를 벗어난 경우 예외를 발생시킨다.

### 덱
- 카드 뭉치이다.
- 덱에 카드를 추가할 수 있다.
  - 이미 보유한 카드를 받은 경우 예외를 발생시킨다.
- 덱이 있는 카드들의 점수를 알려줄 수 있다.
- 덱에 11값의 에이스 카드의 수를 알려줄 수 있다.
- 덱에 11값의 에이스 카드 중 하나의 값을 1로 변경할 수 있다.

### 핸드 덱
- 게이머가 사용할 덱을 가진다.
- 현재 덱의 스코어를 가진다.
- 덱에 카드를 추가할 수 있다.

### 플레이 덱
- 플레이할 카드들을 생성하고 가진다.
  - 생성 후 섞는다.
- 덱에서 카드를 한 장 꺼낸다.
  - 덱이 비어있는 경우 예외를 발생시킨다.


### 게이머 (플레이어, 딜러)
- 핸드 덱을 가진다.
- 카드를 받을 수 있다.
- 히트 가능 여부를 확인할 수 있다.
- 플레이어와 딜러는 각각의 상태값을 가진다.
  - 플레이어 상태값에는 이름과 플레이어 배팅 지갑이 있다.
  - 딜러 상태값에는 딜러 배팅 지갑이 있다.

### 플레이어 이름
- 이름에 공백이 포함될 경우 예외를 발생시킨다.
- 이름의 길이가 1~10가 아닐 경우 예외를 발생시킨다.

### 배팅 지갑
- 배팅 금액을 가진다.
  - 배팅 금액을 입금하여 지갑을 생성할 수 있다.
  - 배팅 금액이 100원보다 작을 경우 예외를 발생시킨다.
  - 베팅 금액이 10원 단위가 아닐 경우 예외를 발생시킨다.
- 배당 수익 금액을 가진다.
- 플레이어 배팅 지갑은 플레이어의 결과의 배당률에 따라 배당 금액을 계산한다.
- 딜러 배팅 지갑을 플레이어가 패할 경우 플레이어의 배팅 금액이 배당 금액에 추가된다.
- 수익금을 계산할 수 있다. (배당금 - 배팅금)

### 플레이어 게임 결과
- 플레이어들의 결과를 가진다.
