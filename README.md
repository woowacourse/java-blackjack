# java-blackjack

### 요구 기능 정리

- [x] 카드 덱 생성하기
- [x] 플레이어 이름 입력 받기
    - [x] 쉼표로 분리
    - [x] 중복이 있는지 체크
- [x] 플레이어 별로 베팅 금액 입력 받기
    - [x] 숫자가 아니면 예외 발생
- [x] 딜러 및 플레이어 생성하기
    - [x] 딜러 및 플레이어들에게 카드를 각각 두 장씩 주기
    - [x] 딜러의 카드는 첫 장만 공개
    - [x] 플레이어의 카드는 2장 모두 공개
- [x] 플레이어 별로 게임 진행
    - [x] 카드를 더 받을지 선택
        - [x] 플레이어의 카드 숫자 합이 21 이상이면 선택할 수 없음
        - [x] y / n 으로 입력받아서 결정
    - [x] 플레이어가 가진 카드를 출력
- [x] 딜러의 게임 진행
    - [x] 숫자의 합이 16 이하인 경우 카드를 한 장 더 받기
    - [x] 17 이상이면 멈추기
- [x] 승패 계산
    - [x] A는 1 또는 11
    - [x] K, Q, J는 10으로 계산
    - [x] 딜러와 플레이어가 가진 카드와 합계를 출력
    - [x] 플레이어의 숫자가 21을 넘기면 무조건 플레이어의 패배
    - [x] 플레이어의 숫자가 딜러보다 21에 가까우면 플레이어의 승리
    - [x] 플레이어의 숫자가 21을 넘기지 않고 딜러의 숫자가 21을 넘기면 플레이어의 승리
    - [x] 같은 21이어도 블랙잭(2장)이 승리
    - [x] ~~최종 승패 결과를 출력~~
- [x] 베팅 계산
    - [x] 일반적인 상황에 대한 계산
        - [x] 이기면 베팅 금액 만큼 수익
        - [x] 지면 베팅 금액 만큼 손실
        - [x] 비기면 베팅 금액을 돌려받음
    - [x] 블랙잭으로 이기면 1.5배의 수익
    - [x] 최종 수익을 출력

---

### 객체 별 역할 정리

- Dealer
    - 게임의 딜러
    - 카드를 소유하고 있다.
    - 카드 덱을 받아서 보유 카드 숫자가 17이 넘을 때 까지 카드를 뽑는다.
- Player
    - 게임의 플레이어
    - 카드를 소유하고 있다.
    - 카드 덱을 받아서 카드를 뽑는다.
- Names
    - Name들을 포장한 객체
    - 플레이어 이름에 중복이 있는지 검증한다.
- Name
    - 딜러 또는 플레이어의 이름
    - null이거나 빈 문자열일 수 없다.
- Card
    - Pattern
        - 카드의 문양이 저장된 enum
    - Denomination
        - 카드의 끗수가 저장된 enum
    - 카드의 문양과 끗수를 저장하고 있다.
- CardDeck
    - 게임에서 사용하는 카드들을 관리하고 있다.
- Outcome
    - 게임의 승, 무, 패
    - 플레이어를 기준으로 딜러와 비교해서 판단한다.
- Betting
    - 플레이어의 베팅 정보를 저장한다.
- Outcome
    - 승, 무, 패 값을 가진 enum
- GameResult
    - 플레이어와 딜러의 카드를 받는다.
    - 승패를 결정한다.
    - 승패를 바탕으로 수익을 저장한다.
    - 플레이어의 수익을 바탕으로 딜러의 수익을 반환한다.

---

### 게임 상태 정리

- State
    - 모든 상태의 상위 인터페이스
- Started
    - 처음 카드 두 장을 받고 시작한 상태
    - 점수 합이 블랙잭이면 블랙잭으로
- Hit
    - 기존 상태에서 hit을 한 상태
    - hit 또는 stand 가능
- Stand
    - 기존 상태에서 stand한 상태
    - 게임 진행 불가
- Blackjack
    - 최초 started 상태에서 점수 계산 시 21이 나온 상태
    - 게임 진행 불가
- Bust
    - hit을 한 이후 점수 합이 21을 넘은 상태
    - 게임 진행 불가
